<Context MigrationNotes="DMLREPLACE;DIALOGCONFIGPARM;" ID="SC_TestFromScratch" IsSessionContext="false" Comment="" Cardinality="MultipleOnDemand" MetamodelVersion="2011-02-25"><ContextConfiguration><ContextParameters /><ConfigSection Name="sc.PictureEdit" Description=""><ConfigParams><ConfigParam Key="MaxWidth" Description="'MaxWidth'" LongDescription="&quot;Specifies the maximum width of the image in pixels.&#xA;The uploaded image is scaled down to maximum width and height (retreived from MaxWidth and AspectRatio) prior to allow further customization. The default is 800.&quot;" Type="Expression" /><ConfigParam Key="AspectRatio" Description="'AspectRatio'" LongDescription="&quot;Defines the fixed aspect ratio of the image.&#xA;Specified as decimal number like 3/4 = 0.75 or 16/9=1.777 for example.&#xA;The Default is 0.75.&quot;" Type="Expression" /></ConfigParams></ConfigSection></ContextConfiguration><Tables><DataTable Type="Variable" Table="Vars" Comment=""><Column Name="x" DataType="System.Int32" Comment="" /><Column Name="y" DataType="System.Int32" Comment="" /><Column Name="width" DataType="System.Int32" Comment="" /><Column Name="height" DataType="System.Int32" Comment="" /><Column Name="rawImage" DataType="System.Byte[]" Comment="stores the uploaded unchanged image" /><Column Name="saturation" DataType="System.Int32" Comment="" /><Column Name="brightness" DataType="System.Int32" Comment="" /><Column Name="contrast" DataType="System.Int32" Comment="" /><Column Name="resultImage" DataType="System.Byte[]" Comment="holds the image returned from server action" /><Column Name="cropImage" DataType="System.Boolean" Comment="" /></DataTable></Tables><ActionSequence><ActionSequence><Update DataTable="Vars" DataColumn="height" Value="0" /><Update DataTable="Vars" DataColumn="width" Value="0" /><Update DataTable="Vars" DataColumn="x" Value="0" /><Update DataTable="Vars" DataColumn="y" Value="0" /><Update DataTable="Vars" DataColumn="brightness" Value="0" /><Update DataTable="Vars" DataColumn="contrast" Value="100" /><Update DataTable="Vars" DataColumn="saturation" Value="100" /><Update DataTable="Vars" DataColumn="cropImage" Value="false" /></ActionSequence></ActionSequence><Controls><Control ID="TransformImage" ContainerType="ActionComponent" Comment=""><ActionComponent><Code ClassName="sc.QOIM.WebDesigner.PictureEditor.TransformAction,sc.QOIM.WebDesigner.PictureEditor"><ParameterFree Name="'InImage'" Value="select rawImage from Vars" /><ParameterFree Name="'XPos'" Value="select x from vars" /><ParameterFree Name="'YPos'" Value="select y from vars" /><ParameterFree Name="'Width'" Value="select width from vars" /><ParameterFree Name="'Height'" Value="select height from vars" /><ParameterFree Name="'Brightness'" Value="select brightness from vars" /><ParameterFree Name="'Saturation'" Value="select Saturation from vars" /><ParameterFree Name="'Contrast'" Value="select contrast from vars" /><ParameterFree Name="'OutImage'" Value="&quot;resultImage&quot;" /><ParameterFree Name="'TargetCollection'" Value="Vars" /><ParameterFree Name="'CropImage'" Value="select cropImage from vars" /></Code></ActionComponent></Control><Control ID="InitializeImage" ContainerType="ActionComponent" Comment=""><ActionComponent><Code ClassName="sc.QOIM.WebDesigner.PictureEditor.InitPictureAction,sc.QOIM.WebDesigner.PictureEditor"><ParameterFree Name="'ImageColumn'" Value="&quot;rawImage&quot;" /><ParameterFree Name="'XColumn'" Value="&quot;X&quot;" /><ParameterFree Name="'YColumn'" Value="&quot;y&quot;&#xA;" /><ParameterFree Name="'WidthColumn'" Value="&quot;width&quot;" /><ParameterFree Name="'HeightColumn'" Value="&quot;height&quot;" /><ParameterFree Name="'AspectRatio'" Value="isnull(Convert(getconfig(&quot;AspectRatio&quot;), &quot;Decimal&quot;),0.75)" /><ParameterFree Name="'MaxWidth'" Value="isnull(Convert(getconfig(&quot;MaxWidth&quot;), &quot;Int32&quot;),800)" /><ParameterFree Name="'Collection'" Value="Vars" /></Code></ActionComponent></Control></Controls><Functions /><DataEventHandlers><DataEventHandler Operation="Update" DataTable="Vars"><ActionSequence><CallAction ActionID="TransformImage" ScriptItemUID="63436621-cead-4c4c-a17b-939b8cf59957" /></ActionSequence><DataEventHandlerColumn DataColumn="saturation" /><DataEventHandlerColumn DataColumn="brightness" /><DataEventHandlerColumn DataColumn="contrast" /></DataEventHandler><DataEventHandler Operation="Update" DataTable="Vars"><ActionSequence><WriteLog Text="&quot;picture changed&quot;" WriteApplicationLog="false" /></ActionSequence><DataEventHandlerColumn DataColumn="resultImage" /></DataEventHandler></DataEventHandlers><Forms><Form ID="PictureForm" PageFileName="Standard" ScriptItemUID="fe138439-42cc-45ca-abc0-b55fda40920c"><ActionSequence /><PagePartContainer ID="Title"><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Edit a Picture&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="d60baa7d-1393-4541-ab03-77cb05f9dd0c" /></Container></PagePartContainer><PagePartContainer ID="Main"><Container EnableEvents="false" IsAutoFocusOnRender="false"><ContainerTemplate DataTable="Vars"><Container EnableEvents="false" IsAutoFocusOnRender="false"><Container EnableEvents="false" IsAutoFocusOnRender="false" Layout="'VI_Styles_Container_Paragraph'"><FileUpload Destination="Table" DataTable="Vars" DataColumn="rawImage" TextBoxText="translate(&quot;#LDS#Upload&quot;)"><ServerActionCall ExecuteAsync="false" ScriptItemUID="bd0f3981-734e-456e-ac75-5d1702343da8"><ActionSequence><CallAction ActionID="InitializeImage" ScriptItemUID="472e6314-de05-4c43-b0ab-f118d824d0e1" /><Update DataTable="Vars" DataColumn="resultImage" Value="select rawImage from Vars" /></ActionSequence></ServerActionCall></FileUpload></Container><Container EnableEvents="false" IsAutoFocusOnRender="false" Layout="'SC_Styles_Container_Paragraph'" Condition="select current not(isnull(resultImage)) from Vars"><Image Source="DataSet" Action="Display" ScriptItemUID="d8bd9d2c-bd28-44b5-9012-65a3400b47a6" DataTable="Vars" DataColumn="resultImage" Layout="'SCImage'" /><Container EnableEvents="false" IsAutoFocusOnRender="false" Layout="'SC_ImageArea'" /><LayoutPanel Columns="2"><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Sättigung&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="21b6a5c1-d385-4bf5-b2ed-9e70df4e1e70" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><TextBox DataTable="Vars" DataColumn="saturation" TextMode="SingleLine" ImmediateChange="false" ScriptItemUID="39ec8710-9218-4b24-9343-2ec071219a78" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Kontrast&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="0938f984-caac-468e-ba67-5f5e5ebbfc91" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><TextBox DataTable="Vars" DataColumn="contrast" TextMode="SingleLine" ImmediateChange="false" ScriptItemUID="23cb31b1-c228-4565-814c-91adfeb1e198" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Helligkeit&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="fcd62bcc-ec94-4daa-a65a-44c8722ea747" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><TextBox DataTable="Vars" DataColumn="brightness" TextMode="SingleLine" ImmediateChange="false" ScriptItemUID="ce6db76f-bec4-4456-a5ab-dcc75562150b" /></Container></LayoutPanelItem></LayoutPanel><LayoutPanel Columns="3"><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Button DisplayType="Text" Text="&quot;&lt;&quot;" Action="Redirect" ScriptItemUID="f10d13e3-0a16-41fd-a451-d54f357e1f60"><ServerActionCall ExecuteAsync="false" ScriptItemUID="14c5040d-9a60-4642-a285-76af1bc38e12"><ActionSequence><Update DataTable="Vars" DataColumn="saturation" Value="from vars select saturation -1" /></ActionSequence></ServerActionCall></Button></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Sättigung&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="11aa52d5-5581-4321-ac51-d8084a94e70a" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Button DisplayType="Text" Text="&quot;&gt;&quot;" Action="Redirect" ScriptItemUID="1c381240-446b-48d5-994f-d5b98aca4ebe"><ServerActionCall ExecuteAsync="false" ScriptItemUID="65adc6e2-25e6-418b-86fa-3a88e30a0d0d"><ActionSequence><Update DataTable="Vars" DataColumn="saturation" Value="from vars select saturation +1" /></ActionSequence></ServerActionCall></Button></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Button DisplayType="Text" Text="&quot;&lt;&quot;" Action="Redirect" ScriptItemUID="a23d2b0d-e332-4622-9689-887a0b7de71d"><ServerActionCall ExecuteAsync="false" ScriptItemUID="e6c534a0-cedb-4c67-a015-eed347a62670"><ActionSequence><Update DataTable="Vars" DataColumn="contrast" Value="from vars select contrast -1" /></ActionSequence></ServerActionCall></Button></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Kontrast&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="836c0abd-4dac-494c-88be-9ac716081b65" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Button DisplayType="Text" Text="&quot;&gt;&quot;" Action="Redirect" ScriptItemUID="e059ff23-fe85-4f52-89b5-6f9840c4b76e"><ServerActionCall ExecuteAsync="false" ScriptItemUID="3693c3cc-8b39-4687-ad35-4e5a35df530c"><ActionSequence><Update DataTable="Vars" DataColumn="contrast" Value="from vars select contrast +1" /></ActionSequence></ServerActionCall></Button></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Button DisplayType="Text" Text="&quot;&lt;&quot;" Action="Redirect" ScriptItemUID="4ecae460-7172-434e-834d-f5da507b23db"><ServerActionCall ExecuteAsync="false" ScriptItemUID="ca2ac669-a426-43d0-879a-55dcecf5d17e"><ActionSequence><Update DataTable="Vars" DataColumn="brightness" Value="from vars select brightness -1" /></ActionSequence></ServerActionCall></Button></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Label Text="&quot;Helligkeit&quot;" Action="Display" EnableSubControls="false" ScriptItemUID="7d31085d-f978-4357-b218-e93d519f5cfb" /></Container></LayoutPanelItem><LayoutPanelItem><Container EnableEvents="false" IsAutoFocusOnRender="false"><Button DisplayType="Text" Text="&quot;&gt;&quot;" Action="Redirect" ScriptItemUID="dad4efd0-8933-4f15-8d91-2725e60d372b"><ServerActionCall ExecuteAsync="false" ScriptItemUID="89081fcc-67e0-47e5-8a36-aa063087064c"><ActionSequence><Update DataTable="Vars" DataColumn="brightness" Value="from vars select brightness +1" /></ActionSequence></ServerActionCall></Button></Container></LayoutPanelItem></LayoutPanel><Container EnableEvents="false" IsAutoFocusOnRender="false"><TextBox DataTable="Vars" DataColumn="x" TextMode="SingleLine" ImmediateChange="true" ScriptItemUID="d6806305-a739-405d-b20a-266519acf951" ItemUID="pxPosition" Layout="'sc_xPos'" /><TextBox DataTable="Vars" DataColumn="y" TextMode="SingleLine" ImmediateChange="true" ScriptItemUID="04af9242-a2df-463f-9024-b39b2f76cde9" ItemUID="pyPosition" Layout="'sc_yPos'" /><TextBox DataTable="Vars" DataColumn="width" TextMode="SingleLine" ImmediateChange="true" ScriptItemUID="30491d17-d557-4f05-9207-689fde6524be" ItemUID="pWidth" Layout="'sc_pWidth'" /><TextBox DataTable="Vars" DataColumn="height" TextMode="SingleLine" ImmediateChange="true" ScriptItemUID="fe238378-af73-47bd-951d-8f35415aa818" ItemUID="pHeight" Layout="'sc_pHeight'" /></Container></Container></Container></ContainerTemplate></Container></PagePartContainer></Form></Forms></Context>